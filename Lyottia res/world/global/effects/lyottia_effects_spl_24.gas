[effect_script*]
{
	name	=lyottia_24_attack_single_effect;

	script	=[[
			sound play s_e_spell_stumble_cast at #SOURCE_POSITION dist 3 35;

			sfx create trackball #TARGET_KB 
				"homing()radius(.3)spin(-.99)theta(1.5708)";
			set $ball #POP;
			sfx position_at $ball @weapon_bone source;
			sfx friendly party $ball;
			sfx start $ball;

			sfx create explosion #SOURCE 
				"srate(.001)vmin(16)vmax(16)omni_dir()ts(.45)scale(.9)
				scale_range(1.3,1.5,0)texture(b_i_glb_rgt_griffon_feather)color0(0,0,0)
				color1(0,0,0)radius(.5)fade_range(8,8,0)";
			sfx rat #PEEK;
			sfx target #PEEK $ball;
			sfx attach $ball #PEEK;
			
			waitfor collision $ball #DEFAULT_TIMEOUT;
			set $collision_type #POP;

			if ( $collision_type == #TERRAIN_COLLISION )
			{				
				get collision point $ball;
				sfx create explosion #POP
					"vmin(6)vmax(12)omni_dir()ts(.5)scale(.4)
					scale_range(.6,1,0)texture(b_i_glb_rgt_griffon_feather)color0(0,0,0)
					color1(0,0,0)radius(.5)fade_range(1,1,0)";
				sfx start #POP;
				
				get collision point $ball;
				sfx create explosion #POP
					"vmin(6)vmax(12)omni_dir()ts(.5)scale(.4)
					scale_range(.4,.66,0)texture(b_i_glb_rgt_griffon_feather)color0(0,0,0)
					color1(0,0,0)radius(.5)fade_range(1,1,0)";
				sfx start #POP;
			}
			else if ( $collision_type == #OBJECT_COLLISION )
			{
				get collision target $ball target;
				sfx create explosion #TARGET_KB 
					"vmin(6)vmax(12)omni_dir()ts(.5)scale(.4)
					scale_range(.6,1,0)texture(b_i_glb_rgt_griffon_feather)color0(0,0,0)
					color1(0,0,0)radius(.5)fade_range(1,1,0)";
				sfx start #POP;
				
				get collision target $ball target;
				sfx create explosion #TARGET_KB 
					"vmin(6)vmax(12)omni_dir()ts(.5)scale(.4)
					scale_range(.4,.66,0)texture(b_i_glb_rgt_griffon_feather)color0(0,0,0)
					color1(0,0,0)radius(.5)fade_range(1,1,0)";
				sfx start #POP;
			}

			worldmsg WE_SPELL_SYNC_END #INVALID_GOID #OWNER_GOID #TARGET_GOID;
			]];
}
[effect_script*] // -ET
{
	name	=wind_embrace;

	script	=[[
			sound play s_e_ds2_nb_windembrace at #TARGET_POSITION dist 3 20;

			////////////////////////////////
			set $color .75,.75,.49;
			set $height .25;
			set $width	.1;
			set $detail 5;
			set $texture b_sfx_010;
			set $spin 10;
						
			sfx create cylinder #TARGET
				"spin($spin)texture($texture)color0($color)rp0(.09,.09,0)
				rp1(.12,.12,0)hp0(.3,.3,0)hp1(-.1,-.1,0)tin(.50)tout(.3)
				bone_orient()rotate(0,0,0)segments($detail)";
				
					
			sfx attach_point #PEEK Bip01_L_Foot target;
			sfx start #POP;
			
			sfx create cylinder #TARGET
				"spin($spin)texture($texture)color0($color)rp0(.09,.09,0)
				rp1(.12,.12,0)hp0(.3,.3,0)hp1(-.1,-.1,0)tin(.50)tout(.3)
				bone_orient()rotate(0,0,0)segments($detail)";
				
					
			sfx attach_point #PEEK Bip01_R_Foot target;
			sfx start #POP;

            sfx create cylinder #TARGET
				"spin($spin)texture($texture)color0($color)rp0(.13,.13,0)
				rp1(.13,.13,0)hp0(-.4,-.4,0)hp1(.1,.1,0)tin(.50)tout(.3)
				bone_orient()rotate(0,0,90)segments($detail)dur($dur)";
				
					
			sfx attach_point #PEEK Bip01_L_Calf target;
			sfx start #POP;
			
			sfx create cylinder #TARGET
				"spin($spin)texture($texture)color0($color)rp0(.13,.13,0)
				rp1(.13,.13,0)hp0(-.4,-.4,0)hp1(.1,.1,0)tin(.50)tout(.3)
				bone_orient()rotate(0,0,90)segments($detail)dur($dur)";
				
					
			sfx attach_point #PEEK Bip01_R_Calf target;
			sfx start #POP;
			
			sfx create cylinder #TARGET
				"spin($spin)texture($texture)color0($color)rp0(.1,.1,0)
				rp1(.15,.15,0)hp0(-.5,-.5,0)hp1(0,0,0)tin(.50)tout(.3)
				bone_orient()rotate(0,0,90)segments($detail)dur($dur)";
				
					
			sfx attach_point #PEEK Bip01_L_Thigh target;
			sfx start #POP;
			
			sfx create cylinder #TARGET
				"spin($spin)texture($texture)color0($color)rp0(.1,.1,0)
				rp1(.15,.15,0)hp0(-.5,-.5,0)hp1(0,0,0)tin(.50)tout(.3)
				bone_orient()rotate(0,0,90)segments($detail)dur($dur)";
				
					
			sfx attach_point #PEEK Bip01_R_Thigh target;
			sfx start #POP;
			
			sfx create cylinder #TARGET
				"spin($spin)texture($texture)color0($color)rp0(.25,.25,0)
				rp1(.18,.18,0)hp0(.35,.35,0)hp1(-.1,-.1,0)tin(.50)tout(.3)
				bone_orient()rotate(0,0,90)segments($detail)dur($dur)";
				
					
			sfx attach_point #PEEK Bip01_Spine target;
			sfx start #POP;
			
			sfx create cylinder #TARGET
				"spin($spin)texture($texture)color0($color)rp0(.18,.18,0)
				rp1(.22,.22,0)hp0(.2,.2,0)hp1(-.2,-.2,0)tin(.50)tout(.3)
				bone_orient()rotate(0,0,90)segments($detail)dur($dur)";
				
					
			sfx attach_point #PEEK Bip01_Spine2 target;
			sfx start #POP;
			
			sfx create cylinder #TARGET
				"spin($spin)texture($texture)color0($color)rp0(.1,.1,0)
				rp1(.1,.1,0)hp0(-.3,-.3,0)hp1(0,0,0)tin(.50)tout(.3)
				bone_orient()rotate(0,0,90)segments($detail)dur($dur)";
				
					
			sfx attach_point #PEEK Bip01_R_Clavicle target;
			sfx start #POP;
			
			sfx create cylinder #TARGET
				"spin($spin)texture($texture)color0($color)rp0(.1,.1,0)
				rp1(.1,.1,0)hp0(-.2,-.2,0)hp1(.05,.05,0)tin(.50)tout(.3)
				bone_orient()rotate(0,0,90)segments($detail)dur($dur)";
				
					
			sfx attach_point #PEEK Bip01_R_UpperArm target;
			sfx start #POP;
			
			sfx create cylinder #TARGET
				"spin($spin)texture($texture)color0($color)rp0(.1,.1,0)
				rp1(.1,.1,0)hp0(-.4,-.4,0)hp1(0,0,0)tin(.50)tout(.3)
				bone_orient()rotate(0,0,90)segments($detail)dur($dur)";
				
					
			sfx attach_point #PEEK Bip01_R_Forearm target;
			sfx start #POP;
			
			worldmsg WE_SPELL_SYNC_END #INVALID_GOID #OWNER_GOID #TARGET_GOID;

			]];
}